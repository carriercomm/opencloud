<table class="table table-striped table-bordered">
    {% if nodes %}
        {% for node in nodes %}
        <tr>
        <td>{{node.name}}</td>
        {% if node.extra.dns_name %}
        <td>{{node.extra.dns_name}}</td>
        {% else %}
        <td>{{node.public_ips[0]}}</td>
        {% endif %}
        <td>{{node.private_ips[0]}}</td>
        {% if node.extra.status %}
        {% with status = node.extra.status %}
        <td class="center"><span class="label {% if status == 'running' %}label-success{% elif status == 'shutting-down' %}label-important{% elif status == 'pending' %}label-info{% elif status == 'terminated' %}label-inverse{% endif %}">{{node.extra.status|capitalize}}</span></td>
        {% endwith %}
        {% endif %}
        {% if node.extra.instanceId %}
        <td>{{node.extra.instanceId}}</td>
        {% endif %}
        {% if node.extra.instancetype %}
        <td>{{node.extra.instancetype}}</td>
        {% endif %}
        {% if node.extra.availability %}
        <td>{{node.extra.availability}}</td>
        {% endif %}
        <td class="center">
            {% if node.state == 0 or node.state == 4%}
            <a class="btn btn-mini btn-node-restart" data-instanceId="{{node.id}}"><i class="icon icon-refresh"></i></a>
            {% if provider|lower != 'rackspace' and provider|lower != 'dfw' %}
            <a class="btn btn-mini btn-warning btn-node-stop" data-instanceId="{{node.id}}"><i class="icon icon-off"></i></a>
            {% endif %}
            <a class="btn btn-mini btn-danger btn-node-destroy" data-instanceId="{{node.id}}"><i class="icon icon-trash icon-white"></i></a>
            {% endif %}
        </td>
        </tr>
        {% endfor %}
        <script type="text/javascript">
            $("a.btn-node-restart").click(function(){
                if (confirm("{{_('Are you sure you want to restart the node?')}}")) {
                    location.href = '/dashboard/nodes/' + $(this).attr('data-instanceId') + '/reboot';
                    return;
                }
            });
            $("a.btn-node-stop").click(function(){
                if (confirm("{{_('Are you sure you want to stop the node?')}}")) {
                    location.href = '/dashboard/nodes/' + $(this).attr('data-instanceId') + '/stop';
                    return;
                }
            });
            $("a.btn-node-destroy").click(function(){
                if (confirm("{{_('Are you sure you want to destroy the node?')}}")) {
                    location.href = '/dashboard/nodes/' + $(this).attr('data-instanceId') + '/destroy';
                    return;
                }
            });
        </script>
    {% else %}
    <tr>
        <td>{{_('There are no nodes in this location')}}</td>
    </tr>
    {% endif %}
</table>